<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Management</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #0056b3;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        h2 {
            text-align: center;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="text"], input[type="submit"] {
            width: calc(100% - 20px);
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #0056b3;
            border-radius: 4px;
            box-sizing: border-box;
        }

        input[type="submit"] {
            background-color: #371b9b;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            font-size: 16px;
            transition: background-color 0.3s;
            float: right;
        }

        input[type="submit"]:hover {
            background-color: #140441;
        }

        .course-list {
            margin-bottom: 20px;
        }

        .course-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            padding: 8px;
            border: 2px solid navy;
            border-radius: 4px;
            background-color: #bbbbeb;
        }

        .course-item .actions {
            display: flex;
            align-items: center;
        }

        .course-item .actions button {
            margin-left: 5px;
            padding: 6px 12px;
            cursor: pointer;
        }

        .saveCourseButton, .cancelButton{
            background-color: #371b9b;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            font-size: 16px;
            transition: background-color 0.3s;
            float: right;
        }

        .popup-form {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #f9f9f9;
            padding: 20px;
            border: 2px solid navy;
            border-radius: 8px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Course Management</h2>
        <div class="course-list" id="courseList">
            <!-- Course items will be dynamically added here -->
        </div>
        <button id="addCourseButton">Add New Course</button>
    </div>

    <!-- Popup form for adding/editing a course -->
    <div class="popup-form" id="courseForm">
        <h3 id="formTitle">Add New Unit</h3>
        <form id="courseFormData">
            <label for="courseCode">Unit Code:</label>
            <input type="text" id="courseCode" name="courseCode" placeholder="Enter course code" required>

            <label for="courseName">Unit Name:</label>
            <input type="text" id="courseName" name="courseName" placeholder="Enter course name" required>

            <label for="courseDescription">Description:</label>
            <input type="text" id="courseDescription" name="courseDescription" placeholder="Enter course description" required>

            <button type="submit" id="saveCourseButton">Save</button>
            <button type="button" id="cancelButton">Cancel</button>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Variables for course management
            var courseList = document.getElementById("courseList");
            var addCourseButton = document.getElementById("addCourseButton");
            var courseForm = document.getElementById("courseForm");
            var courseFormData = document.getElementById("courseFormData");
            var saveCourseButton = document.getElementById("saveCourseButton");
            var cancelButton = document.getElementById("cancelButton");
            var formTitle = document.getElementById("formTitle");
            var courseIndex = 0;

            // Function to create course item HTML
            function createCourseItemHTML(code, name, description) {
                var html = `
                    <div class="course-item" data-index="${courseIndex}">
                        <div class="course-info">
                            <strong>Course Code:</strong> ${code}<br>
                            <strong>Course Name:</strong> ${name}<br>
                            <strong>Description:</strong> ${description}
                        </div>
                        <div class="actions">
                            <button class="edit-button">Edit</button>
                            <button class="delete-button">Delete</button>
                        </div>
                    </div>
                `;
                return html;
            }

            // Function to add a new course
            function addCourse(code, name, description) {
                courseList.insertAdjacentHTML("beforeend", createCourseItemHTML(code, name, description));
                courseIndex++;
            }

            // Function to clear the form fields
            function clearForm() {
                courseFormData.reset();
            }

            // Event listener for Add New Course button
            addCourseButton.addEventListener("click", function() {
                courseForm.style.display = "block";
                formTitle.textContent = "Add New Course";
                saveCourseButton.textContent = "Save";
                clearForm();
            });

            // Event listener for Save Course button
            saveCourseButton.addEventListener("click", function() {
                var code = document.getElementById("courseCode").value;
                var name = document.getElementById("courseName").value;
                var description = document.getElementById("courseDescription").value;

                if (code && name && description) {
                    if (saveCourseButton.textContent === "Save") {
                        addCourse(code, name, description);
                        clearForm();
                    } else {
                        // Implement edit course functionality here...
                        alert("Course edited successfully!");
                    }
                    courseForm.style.display = "none";
                } else {
                    alert("Please fill in all fields.");
                }
            });

            // Event listener for Cancel button
            cancelButton.addEventListener("click", function() {
                courseForm.style.display = "none";
            });

            // Event delegation for Edit and Delete buttons
            courseList.addEventListener("click", function(event) {
                var target = event.target;
                if (target.classList.contains("edit-button")) {
                    var courseItem = target.closest(".course-item");
                    var courseInfo = courseItem.querySelector(".course-info");
                    var code = courseInfo.querySelector("strong:nth-of-type(1)").textContent.replace("Course Code: ", "");
                    var name = courseInfo.querySelector("strong:nth-of-type(2)").textContent.replace("Course Name: ", "");
                    var description = courseInfo.querySelector("strong:nth-of-type(3)").textContent.replace("Description: ", "");
                    document.getElementById("courseCode").value = code;
                    document.getElementById("courseName").value = name;
                    document.getElementById("courseDescription").value = description;
                    formTitle.textContent = "Edit Course";
                    saveCourseButton.textContent = "Update";
                    courseForm.style.display = "block";
                } else if (target.classList.contains("delete-button")) {
                    var confirmDelete = confirm("Are you sure you want to delete this course?");
                    if (confirmDelete) {
                        var courseItem = target.closest(".course-item");
                        courseItem.remove();
                        alert("Course deleted successfully!");
                    }
                }
            });
        });
    </script>
</body>
</html>